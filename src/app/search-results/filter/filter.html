<h6 ng-show="vm.totalCount">SEE ALL CATEGORIES</h6>
<span class="refine-list">
    <div class="refine-header" data-ng-repeat="category in vm.categoryPristine track by $index | orderBy: 'name'">
        <span class="category" ng-class=" category.select ? 'blue': '' " ng-click="vm.categoryFilter(category);vm.launchTreeEvent();">{{category.name}}</span>
        <div class="subcategory"  data-ng-repeat="subcategory in category.children">
            <span ng-class=" subcategory.select ? 'blue': '' " class=
            "subcategory" ng-click="vm.subCategoryFilter(category, subcategory);vm.launchTreeEvent();">{{subcategory.name}}</span>
        </div>
    </div>
    <div ng-show="vm.totalCount"><hr></div>
    <div class="refine" data-ng-repeat="refine in vm.listPristine | orderBy: ['priority', 'name']">
        <div class="refine-header">
            <span>{{refine.name}}</span>
            <a class="pull-right" ng-click="vm.toggleselect(refine)">{{refine.viewSelect}}</a>
        </div>
        <div class="refine-options">
            <div class="list">
                <div ng-show = "refine.buckets.length > 1" class="search-text"><input placeholder="filter input" data-ng-model="searchText"/><!--<label class="icon"><i class="fa fa-arrow-right" aria-hidden="true"></i></label>--></div>
                <div class="form-group">
                    <label class="checkbox" data-ng-repeat="option in refine.buckets | filter:searchText | limitTo:refine.viewLimit">
                        <label data-ng-click="vm.apicall()" data-ng-model="option.select" uib-btn-checkbox>
                            <i class="fa" ng-class="option.select ? 'fa-check-square' : 'fa-square-o' "></i>
                            <span ng-class="option.select ? 'bold' : '' ">{{option.key}}
                            <span ng-show="refine.type != 'NUMERIC_RANGE'">({{option.count}})</span></span>
                        </label>
                    </label>
                </div>
                <div ng-if="refine.buckets.length > 4" class="view-more">
                    <a ng-click="vm.toggleview(refine)">{{refine.viewLimitName}}</a>
                </div>
            </div>
        </div>
    </div>
</span>